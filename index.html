<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A project template and directory structure for Python data science projects.">
    
    
    <link rel="img/favicon.ico">

    
    <title>Home - GriP on Data Science</title>
    

    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="css/base.min.css" rel="stylesheet">
    <link href="css/cinder.min.css" rel="stylesheet">
    <link href="css/highlight.min.css" rel="stylesheet">
    <link href="css/extra.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    <script src="//ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    

     
</head>

<body class="homepage" >

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            <a class="navbar-brand" href=".">GriP on Data Science</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/waveFrontSet/grip-on-data-science/edit/master/docs/docs/index.md"><i class="fab fa-github"></i> Edit on GitHub</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#grip-on-data-science">GriP on Data Science</a></li>
            <li class="second-level"><a href="#why-use-this-project-structure">Why use this project structure?</a></li>
                
                <li class="third-level"><a href="#start-with-100-test-coverage">Start with 100% test coverage</a></li>
                <li class="third-level"><a href="#be-as-elaborate-as-you-want-with-your-log-messages">Be as elaborate as you want with your log messages</a></li>
                <li class="third-level"><a href="#code-style-black">Code style: black</a></li>
                <li class="third-level"><a href="#use-pre-defined-make-targets-for-common-tasks">Use pre-defined make targets for common tasks</a></li>
            <li class="second-level"><a href="#getting-started">Getting started</a></li>
                
                <li class="third-level"><a href="#requirements">Requirements</a></li>
                <li class="third-level"><a href="#starting-a-new-project">Starting a new project</a></li>
            <li class="second-level"><a href="#directory-structure">Directory structure</a></li>
                
                <li class="third-level"><a href="#keep-secrets-and-configuration-out-of-version-control">Keep secrets and configuration out of version control</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="grip-on-data-science">GriP on Data Science</h1>
<p><em>Based on <a href="https://github.com/drivendata/cookiecutter-data-science">Cookiecutter Data Science</a>, this Data Science
project template aims to provide a more opinionated and firm framework,
especially tailored towards beginners.</em></p>
<h2 id="why-use-this-project-structure">Why use this project structure?</h2>
<p>While the <a href="https://github.com/drivendata/cookiecutter-data-science">Cookiecutter Data
Science</a> template aims
at being a great starting point, it leaves you with a lot of design choices:</p>
<ul>
<li>What kind of <code>make</code> targets should you provide?</li>
<li>How to organize training and evaluating models?</li>
</ul>
<p>Certainly, one could argue that the answer to these questions depends on the
concrete project at hand. However, I think that beginning Data Scientists
especially (or rather beginners in any field, really) need a firm and more
refined framework to start their journey. To be honest, when I found out about the Data Science
cookiecutter, I was overwhelmed by the potential and the choices I had to make
when starting my first Data Science project based on the template.</p>
<p>Furthermore, there are a lot of <a href="https://github.com/drivendata/cookiecutter-data-science/network/members">forks of the Cookiecutter Data Science
template</a>,
a lot of which aim at providing more orientation. The main example I was
inspired by is <a href="https://github.com/hackalog/cookiecutter-easydata">Cookiecutter
EasyData</a> that provides a
plethora of additional make targets, is able to manage dependencies via <code>conda</code>,
and adds a lot of boilerplate code assisting in building up a Data Science
project.</p>
<p>While the aforementioned template tackles a lot of the weaknesses of the
Cookiecutter Data Science template, I find that it is too sophisticated and not
well-documented enough to be easy to use (even though the maintainers started an
<a href="https://github.com/hackalog/bus_number">example project</a> explaining their
template structure and how to use it). Thus, I decided to take the middle
ground between the two.</p>
<h3 id="start-with-100-test-coverage">Start with 100% test coverage</h3>
<p>Depending on the amount of data, transformations may take quite some time and
should be tested before they run on the whole dataset -- it's aggravating when a
ten minute transformation yields the wrong result because you applied it to the
wrong column.</p>
<p>This project provides you with tests that illustrate how your command line
scripts that apply the transformation can be tested.</p>
<h3 id="be-as-elaborate-as-you-want-with-your-log-messages">Be as elaborate as you want with your log messages</h3>
<p>With the logging configuration that comes with this project, all <code>INFO</code> level
messages will be emitted to the console. If you need more detailed information
but do not want to pollute the console, use the <code>DEBUG</code> level that will be
automatically logged into log files in the <code>log</code> folder.</p>
<h3 id="code-style-black">Code style: black</h3>
<p>The initial code and tests are formatted by <code>black</code>.</p>
<h3 id="use-pre-defined-make-targets-for-common-tasks">Use pre-defined <code>make</code> targets for common tasks</h3>
<p>There are pre-defined <code>make</code> targets that </p>
<ul>
<li>help you define your data transformation pipeline until you arrive at your
final dataset (<code>make data/raw</code>, <code>make data/interim</code>, <code>make
data/processed/dataset.csv</code>) and</li>
<li>accelerate choosing and evaluating Machine Learning models (<code>make train</code> and
<code>make evaluate</code>).</li>
</ul>
<p>The latter are configured via simple dictionaries. Details below. </p>
<h2 id="getting-started">Getting started</h2>
<h3 id="requirements">Requirements</h3>
<ul>
<li>Python&gt;=3.6</li>
<li><a href="http://cookiecutter.readthedocs.org/en/latest/installation.html">Cookiecutter Python package</a> &gt;= 1.4.0: This can be installed with pip by or conda depending on how you manage your Python packages:</li>
</ul>
<pre><code class="bash">$ pip install cookiecutter
</code></pre>

<p>or</p>
<pre><code class="bash">$ conda config --add channels conda-forge
$ conda install cookiecutter
</code></pre>

<h3 id="starting-a-new-project">Starting a new project</h3>
<p>Starting a new project is as easy as running this command at the command line. No need to create a directory first, the cookiecutter will do it for you.</p>
<pre><code class="nohighlight">cookiecutter https://github.com/waveFrontSet/cookiecutter-data-science
</code></pre>

<hr />
<h4 id="create-a-new-environment">Create a new environment</h4>
<p>After the new project has been created you should create a new <code>conda</code> environment
using</p>
<pre><code class="nohighlight">make create_environment
</code></pre>

<p>Activate it using <code>conda activate project_name</code>.</p>
<hr />
<h4 id="implement-the-dataraw-target">Implement the <code>data/raw</code> target</h4>
<p>The <code>data/raw</code> target is the specification of how to obtain the raw data of your
project. At the beginning, it is left empty. Decide what you need to do to
obtain the raw data and decide how to save it. If necessary, write a script next
to the <code>generic_processing.py</code> script.</p>
<hr />
<h4 id="implement-generic-clean-ups-and-transformations">Implement generic clean ups and transformations</h4>
<p>The <code>data/interim</code> target is for generic clean ups and transformations
(examples: Removing unnecessary columns, removing duplicated rows). It aims at
the <code>generic_processing.py</code> script. Edit it according to your needs.</p>
<hr />
<h4 id="implement-transformations-and-aggregations-resulting-in-your-final-dataset">Implement transformations and aggregations resulting in your final dataset</h4>
<p>The <code>data/processed/dataset.csv</code> target is the road to your final dataset. This
dataset will be used to train a model. The target aims at the
<code>build_features.py</code> script. Edit it according to your needs.</p>
<hr />
<h4 id="decide-which-models-to-train">Decide which models to train</h4>
<p>Models are trained via the <code>train</code> target. Edit the <code>MODELS</code> dictionary in the
<code>model_config.py</code> file to configure which models to train. The <code>TARGET_VALUE</code>
constant should contain the name of the column that is the prediction target of
your models.</p>
<p><em>Example</em>: If you want to fit a Linear Regression model as well as
a Decision Tree with standard hyperparameters, use</p>
<pre><code class="python">from sklearn.linear_model import LinearRegression
from sklearn.tree import DecisionTreeRegressor

MODELS = {
    &quot;linearRegression&quot;: LinearRegression(),
    &quot;decisionTree&quot;: DecisionTreeRegressor(),
}
</code></pre>

<p>Issuing <code>make train</code> will fit both models to the train set and dump the
resulting models into the folder <code>models/</code>. The filename of each model will be
its key.</p>
<p>Note that this target automatically invokes the <code>train_test_split</code> target that
splits <code>data/processed/dataset.csv</code> into a train set <code>train.csv</code> and a test set
<code>test.csv</code>.</p>
<hr />
<h4 id="evaluate-your-models">Evaluate your models</h4>
<p>Models are evaluated via the <code>evaluate</code> target. Edit the <code>METRICS</code> dictionary in
the <code>metric_config.py</code> file to configure which metrics to evaluate for each model.</p>
<p><em>Example</em>: If you want to evaluate both models from the above paragraph using
R2-Score and mean absolute error, use</p>
<pre><code class="python">from sklearn.metrics import r2_score, mean_absolute_error

METRICS = {
    &quot;linearRegression&quot;: [r2_score, mean_absolute_error],
    &quot;decisionTree&quot;: [r2_score, mean_absolute_error],
}
</code></pre>

<p>Issuing <code>make evaluate</code> will deserialize both models and evaluate them using the
defined metrics on the test set. The results are printed to the console and,
additionally, will be written into the file <code>models/report.json</code>.</p>
<h2 id="directory-structure">Directory structure</h2>
<p>The majority is the same as in the basic Cookiecutter Data Science template.
Added are the <code>tests</code> folder as well as the <code>model_config.py</code> and the
<code>metric_config.py</code>. Plus, <code>make_dataset.py</code> was renamed to
<code>generic_processing.py</code>.</p>
<pre><code class="nohighlight">├── LICENSE
├── Makefile           &lt;- Makefile with commands like `make data` or `make train`
├── README.md          &lt;- The top-level README for developers using this project.
├── data
│   ├── external       &lt;- Data from third party sources.
│   ├── interim        &lt;- Intermediate data that has been transformed.
│   ├── processed      &lt;- The final, canonical data sets for modeling.
│   └── raw            &lt;- The original, immutable data dump.
│
├── docs               &lt;- A default Sphinx project; see sphinx-doc.org for details
│
├── models             &lt;- Trained and serialized models, model predictions, or model summaries
│
├── notebooks          &lt;- Jupyter notebooks. Naming convention is a number (for ordering),
│                         the creator's initials, and a short `-` delimited description, e.g.
│                         `1.0-jqp-initial-data-exploration`.
│
├── references         &lt;- Data dictionaries, manuals, and all other explanatory materials.
│
├── reports            &lt;- Generated analysis as HTML, PDF, LaTeX, etc.
│   └── figures        &lt;- Generated graphics and figures to be used in reporting
│
├── requirements.txt   &lt;- The requirements file for reproducing the analysis environment, e.g.
│                         generated with `pip freeze &gt; requirements.txt`
│
├── setup.py           &lt;- Make this project pip installable with `pip install -e`
├── {{ cookiecutter.module_name }}                &lt;- Source code for use in this project.
│   ├── __init__.py    &lt;- Makes {{ cookiecutter.module_name }} a Python module
│   │
│   ├── data           &lt;- Scripts to download or generate data and for generic transformations
│   │   └── generic_processing.py
│   │
│   ├── features       &lt;- Scripts to turn raw data into features for modeling
│   │   └── build_features.py
│   │
│   ├── models         &lt;- Scripts to train models and then use trained models to make
│   │   │                 predictions
│   │   ├── metric_config.py &lt;- Contains the dictionary that configures the
│   │   │                       metrics used to evaluate your models
│   │   ├── model_config.py &lt;- Contains the dictionary that configures the
│   │   │                       models to train and the target value
│   │   ├── predict_model.py
│   │   └── train_model.py
│   │
│   └── visualization  &lt;- Scripts to create exploratory and results oriented visualizations
│       └── visualize.py
├── tests              &lt;- Folder with initial tests for 100% coverage
└── tox.ini            &lt;- tox file with settings for running tox; see tox.testrun.org
</code></pre>

<h3 id="keep-secrets-and-configuration-out-of-version-control">Keep secrets and configuration out of version control</h3>
<p>You <em>really</em> don't want to leak your AWS secret key or Postgres username and password on Github. Enough said — see the <a href="http://12factor.net/config">Twelve Factor App</a> principles on this point. Here's one way to do this:</p>
<h4 id="store-your-secrets-and-config-variables-in-a-special-file">Store your secrets and config variables in a special file</h4>
<p>Create a <code>.env</code> file in the project root folder. Thanks to the <code>.gitignore</code>, this file should never get committed into the version control repository. Here's an example:</p>
<pre><code class="nohighlight"># example .env file
DATABASE_URL=postgres://username:password@localhost:5432/dbname
AWS_ACCESS_KEY=myaccesskey
AWS_SECRET_ACCESS_KEY=mysecretkey
OTHER_VARIABLE=something
</code></pre>

<h4 id="use-a-package-to-load-these-variables-automatically">Use a package to load these variables automatically.</h4>
<p>If you look at the stub script in <code>{{ cookiecutter.module_name }}/data/make_dataset.py</code>, it uses a package called <a href="https://github.com/theskumar/python-dotenv">python-dotenv</a> to load up all the entries in this file as environment variables so they are accessible with <code>os.environ.get</code>. Here's an example snippet adapted from the <code>python-dotenv</code> documentation:</p>
<pre><code class="python"># {{ cookiecutter.module_name }}/data/dotenv_example.py
import os
from dotenv import load_dotenv, find_dotenv

# find .env automagically by walking up directories until it's found
dotenv_path = find_dotenv()

# load up the entries as environment variables
load_dotenv(dotenv_path)

database_url = os.environ.get(&quot;DATABASE_URL&quot;)
other_variable = os.environ.get(&quot;OTHER_VARIABLE&quot;)
</code></pre>

<h4 id="aws-cli-configuration">AWS CLI configuration</h4>
<p>When using Amazon S3 to store data, a simple method of managing AWS access is to set your access keys to environment variables. However, managing mutiple sets of keys on a single machine (e.g. when working on multiple projects) it is best to use a <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-config-files.html">credentials file</a>, typically located in <code>~/.aws/credentials</code>. A typical file might look like:</p>
<pre><code>[default]
aws_access_key_id=myaccesskey
aws_secret_access_key=mysecretkey

[another_project]
aws_access_key_id=myprojectaccesskey
aws_secret_access_key=myprojectsecretkey
</code></pre>

<p>You can add the profile name when initialising a project; assuming no applicable environment variables are set, the profile credentials will be used be default.</p></div>
        
        
    </div>

    <footer class="col-md-12 text-center">
        
        <hr>
        <p>
        <small>Project maintained by <a target=_blanks href="https://www.paul-grillenberger.de">GriP</a>.<br></small>
        
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>

        
        
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/bootstrap-3.0.3.min.js"></script>
    <script src="js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>var base_url = "."</script>
    
    <script src="js/base.js"></script>
    <script src="search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>

<!--
MkDocs version : 1.0.4
Build Date UTC : 2019-12-22 14:39:51
-->
